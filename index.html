<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ ê¸‰ HTML ì—ë””í„°</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: sans-serif;
            overflow: hidden;
        }

        /* ì „ì²´ ë ˆì´ì•„ì›ƒ ì»¨í…Œì´ë„ˆ */
        .container {
            display: flex;
            height: 100vh;
            width: 100%;
        }

        /* ì™¼ìª½ íŒ¨ë„ (íˆ´ë°” + ì—ë””í„°) */
        .left-panel {
            width: 50%; /* ì´ˆê¸° ë„ˆë¹„ */
            display: flex;
            flex-direction: column;
            min-width: 200px; /* ìµœì†Œ ë„ˆë¹„ ì„¤ì • */
        }

        /* íˆ´ë°” (ë²„íŠ¼ ì˜ì—­) */
        .toolbar {
            padding: 10px;
            background-color: #1e1e1e;
            display: flex;
            gap: 10px;
            border-bottom: 1px solid #333;
        }

        button {
            padding: 6px 12px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            transition: background 0.2s;
        }

        .btn-reset { background-color: #d9534f; color: white; }
        .btn-reset:hover { background-color: #c9302c; }

        .btn-save { background-color: #5cb85c; color: white; }
        .btn-save:hover { background-color: #4cae4c; }

        /* ì—ë””í„° (í…ìŠ¤íŠ¸ ì…ë ¥ì°½) */
        #editor {
            flex-grow: 1; /* ë‚¨ì€ ê³µê°„ ëª¨ë‘ ì°¨ì§€ */
            width: 100%;
            border: none;
            background-color: #282c34;
            color: #ffffff;
            padding: 20px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 16px;
            resize: none;
            outline: none;
            box-sizing: border-box;
        }

        /* í¬ê¸° ì¡°ì ˆ í•¸ë“¤ (Resizer) */
        .resizer {
            width: 5px;
            background-color: #ccc;
            cursor: col-resize;
            z-index: 10;
        }

        .resizer:hover {
            background-color: #007bff; /* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ íŒŒë€ìƒ‰ */
        }

        /* ì˜¤ë¥¸ìª½ íŒ¨ë„ (ë¯¸ë¦¬ë³´ê¸°) */
        .right-panel {
            flex-grow: 1; /* ë‚¨ì€ ê³µê°„ ì°¨ì§€ */
            background-color: white;
            min-width: 200px; /* ìµœì†Œ ë„ˆë¹„ ì„¤ì • */
            position: relative; /* ì•„ì´í”„ë ˆì„ ìœ„ì¹˜ ì¡ê¸° ìœ„í•´ */
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* ë“œë˜ê·¸ ì¤‘ì— ì•„ì´í”„ë ˆì„ì´ ì´ë²¤íŠ¸ë¥¼ ê°€ë¡œì±„ì§€ ëª»í•˜ê²Œ ë§‰ëŠ” í´ë˜ìŠ¤ */
        .pointer-events-none {
            pointer-events: none;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="left-panel" id="leftPanel">
            <div class="toolbar">
                <button class="btn-reset" onclick="resetCode()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
                <button class="btn-save" onclick="saveCode()">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
            </div>
            <textarea id="editor" placeholder="HTML ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”..."><h1>ì•ˆë…•í•˜ì„¸ìš”!</h1>
<p>í•¸ë“¤ì„ ì¡ê³  ì¢Œìš°ë¡œ ì›€ì§ì—¬ë³´ì„¸ìš”.</p></textarea>
        </div>

        <div class="resizer" id="resizer"></div>

        <div class="right-panel" id="rightPanel">
            <iframe id="preview"></iframe>
        </div>
    </div>

    <script>
        const editor = document.getElementById('editor');
        const preview = document.getElementById('preview');
        const resizer = document.getElementById('resizer');
        const leftPanel = document.getElementById('leftPanel');
        const rightPanel = document.getElementById('rightPanel');
        const container = document.querySelector('.container');

        // --- 1. ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ ---
        function updatePreview() {
            preview.srcdoc = editor.value;
        }
        editor.addEventListener('input', updatePreview);
        updatePreview(); // ì´ˆê¸° ì‹¤í–‰

        // --- 2. ì´ˆê¸°í™” ê¸°ëŠ¥ ---
        function resetCode() {
            if(confirm("ì •ë§ë¡œ ëª¨ë“  ì½”ë“œë¥¼ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                editor.value = '';
                updatePreview();
                editor.focus();
            }
        }

        // --- 3. ì €ì¥ ê¸°ëŠ¥ (HTML íŒŒì¼ ë‹¤ìš´ë¡œë“œ) ---
        function saveCode() {
            // 1. ì—ë””í„°ì˜ ë‚´ìš©ì„ ê°€ì ¸ì˜´
            const code = editor.value;
            // 2. í…ìŠ¤íŠ¸ë¥¼ ë‹´ì€ Blob ê°ì²´ ìƒì„± (íŒŒì¼ í˜•ì‹ ì§€ì •)
            const blob = new Blob([code], { type: "text/html" });
            // 3. ê°€ìƒì˜ ë‹¤ìš´ë¡œë“œ ë§í¬ ìƒì„±
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = "result.html"; // ì €ì¥ë  íŒŒì¼ ì´ë¦„
            // 4. ë§í¬ í´ë¦­(ë‹¤ìš´ë¡œë“œ ì‹¤í–‰) í›„ ì œê±°
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // --- 4. ì°½ í¬ê¸° ì¡°ì ˆ(Resizer) ê¸°ëŠ¥ ---
        let isResizing = false;

        resizer.addEventListener('mousedown', function(e) {
            isResizing = true;
            // ë“œë˜ê·¸ ì¤‘ ì•„ì´í”„ë ˆì„ ìœ„ë¡œ ë§ˆìš°ìŠ¤ê°€ ê°€ë©´ ë²„ë²…ì´ë¯€ë¡œ ì ì‹œ ì´ë²¤íŠ¸ ì°¨ë‹¨
            preview.classList.add('pointer-events-none');
            document.body.style.cursor = 'col-resize';
        });

        document.addEventListener('mousemove', function(e) {
            if (!isResizing) return;

            // ì „ì²´ í™”ë©´ ë„ˆë¹„
            const containerWidth = container.offsetWidth;
            // ë§ˆìš°ìŠ¤ì˜ í˜„ì¬ X ì¢Œí‘œ (ì™¼ìª½ ê¸°ì¤€)
            const newLeftWidth = e.clientX;

            // ë¹„ìœ¨ ê³„ì‚° (ë°±ë¶„ìœ¨)
            const newLeftPercent = (newLeftWidth / containerWidth) * 100;

            // ë„ˆë¬´ ì‘ì•„ì§€ê±°ë‚˜ ì»¤ì§€ì§€ ì•Šê²Œ ì œí•œ (10% ~ 90%)
            if (newLeftPercent > 10 && newLeftPercent < 90) {
                leftPanel.style.width = newLeftPercent + '%';
            }
        });

        document.addEventListener('mouseup', function(e) {
            if (isResizing) {
                isResizing = false;
                preview.classList.remove('pointer-events-none');
                document.body.style.cursor = 'default';
            }
        });
    </script>
</body>
</html>
